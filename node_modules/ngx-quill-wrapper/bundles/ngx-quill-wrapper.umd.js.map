{"version":3,"file":"ngx-quill-wrapper.umd.js","sources":["../src/lib/quill.service.ts","../src/lib/quill.interfaces.ts","../src/lib/quill.directive.ts","../src/lib/quill.component.ts","../src/lib/quill.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class QuillService {\n  private toolbar: HTMLElement | null = null;\n\n  constructor() {}\n\n  public getToolbar(toolbarConfig: any): any {\n    let toolbar = toolbarConfig;\n\n    if (typeof toolbarConfig === 'string') {\n      toolbar = document.querySelector(toolbarConfig);\n    }\n\n    if (typeof HTMLElement !== 'undefined' && toolbar instanceof HTMLElement) {\n      if (!this.toolbar) {\n        this.toolbar = toolbar;\n      }\n\n      const clone = this.toolbar.cloneNode(true);\n\n      if (toolbar.parentNode) {\n        toolbar.parentNode.replaceChild(clone, toolbar);\n      }\n\n      return clone;\n    }\n\n    return toolbarConfig;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const QUILL_CONFIG = new InjectionToken<QuillConfigInterface>('QUILL_CONFIG');\n\nexport interface QuillConfigInterface {\n  theme?: string,\n\n  debug?: string,\n  strict?: boolean,\n\n  formats?: string[],\n  modules?: any,\n\n  readOnly?: boolean,\n  placeholder?: string,\n\n  bounds?: string | HTMLElement,\n  scrollingContainer?: string | HTMLElement\n}\n\nexport interface QuillModulesInterface {\n  [path: string]: any\n}\n\nexport class QuillConfig implements QuillConfigInterface {\n  theme?: string;\n\n  debug?: string;\n  strict?: boolean;\n\n  formats?: string[];\n  modules?: any;\n\n  readOnly?: boolean;\n  placeholder?: string;\n\n  bounds?: string | HTMLElement;\n  scrollingContainer?: string | HTMLElement;\n\n  constructor(config: QuillConfigInterface = {}) {\n    this.assign(config);\n  }\n\n  assign(config: QuillConfigInterface | any = {}, target?: any) {\n    target = target || this;\n\n    for (const key in config) {\n      if (config[key] != null && !Array.isArray(config[key]) && typeof config[key] === 'object' &&\n         (typeof HTMLElement === 'undefined' || !(config[key] instanceof HTMLElement)))\n      {\n        target[key] = {};\n\n        this.assign(config[key], target[key]);\n      } else {\n        target[key] = config[key];\n      }\n    }\n  }\n}\n","import Quill from 'quill';\n\nimport { Quill as QuillInstance } from 'quill';\nimport { Sources as QuillSources } from 'quill';\nimport { RangeStatic as QuillRangeStatic } from 'quill';\n\nimport { Directive, Optional, Inject,\n  OnInit, DoCheck, OnDestroy, OnChanges,\n  Input, Output, EventEmitter, NgZone, ElementRef,\n  KeyValueDiffer, KeyValueDiffers, SimpleChanges } from '@angular/core';\n\nimport { QuillService } from './quill.service';\n\nimport { QUILL_CONFIG, QuillConfig, QuillConfigInterface,\n  QuillModulesInterface } from './quill.interfaces';\n\n@Directive({\n  selector: '[quill]',\n  exportAs: 'ngxQuill'\n})\nexport class QuillDirective implements OnInit, DoCheck, OnDestroy, OnChanges {\n  private instance: QuillInstance | null = null;\n\n  private selection: QuillRangeStatic | null = null;\n\n  private hasFocus: boolean = false;\n  private showToolbar: boolean = false;\n\n  private configDiff: KeyValueDiffer<string, any> | null = null;\n\n  private defaultToolbarConfig: any = [\n    ['bold', 'italic', 'underline', 'strike'],\n    ['blockquote', 'code-block'],\n\n    [{ 'header': 1 }, { 'header': 2 }],\n    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n    [{ 'script': 'sub'}, { 'script': 'super' }],\n    [{ 'indent': '-1'}, { 'indent': '+1' }],\n    [{ 'direction': 'rtl' }],\n\n    [{ 'size': ['small', false, 'large', 'huge'] }],\n    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n    [{ 'color': [] }, { 'background': [] }],\n    [{ 'font': [] }],\n    [{ 'align': [] }],\n\n    ['clean']\n  ];\n\n  @Input() disabled: boolean = false;\n\n  @Input() autoToolbar: boolean = false;\n  @Input() realToolbar: boolean = false;\n\n  @Input('quill') config?: QuillConfigInterface;\n\n  @Input('modules') modules?: QuillModulesInterface;\n\n  @Output() blur = new EventEmitter<any>();\n  @Output() focus = new EventEmitter<any>();\n\n  @Output() editorCreate = new EventEmitter<any>();\n  @Output() contentChange = new EventEmitter<any>();\n  @Output() selectionChange = new EventEmitter<any>();\n\n  constructor(private zone: NgZone, private elementRef: ElementRef,\n    private differs: KeyValueDiffers, private service: QuillService,\n    @Optional() @Inject(QUILL_CONFIG) private defaults: QuillConfigInterface) {}\n\n  ngOnInit(): void {\n    const params = new QuillConfig(this.defaults);\n\n    params.assign(this.config); // Custom configuration\n\n    if (this.disabled) {\n      params.readOnly = true;\n\n      params.modules = { toolbar: false }; // Disable toolbar\n    } else {\n      params.theme = params.theme || 'snow';\n\n      params.modules = params.modules || { toolbar: true };\n\n      params.modules.toolbar = params.modules.toolbar || false;\n\n      if (params.modules.toolbar) {\n        if (typeof params.modules.toolbar !== 'object' ||\n           params.modules.toolbar.container === undefined)\n        {\n          params.modules.toolbar = {\n            container: (params.modules.toolbar === true) ?\n              this.defaultToolbarConfig : params.modules.toolbar\n          };\n        }\n\n        if (this.autoToolbar && !this.showToolbar) {\n          params.modules.toolbar = false;\n        } else if (this.autoToolbar || !this.realToolbar) {\n          const toolbar = params.modules.toolbar.container;\n\n          params.modules.toolbar.container = this.service.getToolbar(toolbar);\n        }\n      }\n    }\n\n    this.zone.runOutsideAngular(() => {\n      if (this.modules) {\n        Object.keys(this.modules).forEach((path: string) => {\n          if (this.modules && this.modules[path]) {\n            Quill.register(path, this.modules[path]);\n          }\n        });\n      }\n\n      this.instance = new Quill(this.elementRef.nativeElement, params);\n\n      if (!params.readOnly) {\n        this.instance.enable();\n      } else {\n        this.instance.disable();\n      }\n\n      if (this.editorCreate.observers.length) {\n        this.editorCreate.emit(this.instance);\n      }\n    });\n\n    // Reset selection after onDestroy if available\n\n    if (this.instance && this.selection && this.hasFocus === true) {\n      this.instance.setSelection(this.selection, 'silent');\n\n      this.instance.focus();\n    }\n\n    if (this.instance) {\n      // Add handling of text / content change events\n\n      this.instance.on('text-change', (delta: any, oldDelta: any, source: string) => {\n        const html = this.elementRef.nativeElement.children[0].innerHTML;\n\n        this.zone.runOutsideAngular(() => {\n          if (this.instance && this.contentChange.observers.length) {\n            this.contentChange.emit({\n              editor: this.instance,\n              html: (html === '<p><br></p>') ? null : html,\n              text: this.instance.getText(),\n              delta: delta,\n              oldDelta: oldDelta,\n              source: source\n            });\n          }\n        });\n      });\n\n      // Add handling of blur / focus and selection events\n\n      this.instance.on('selection-change', (range: any, oldRange: any, source: string) => {\n        let resetToolbar = false;\n\n        if (!range && this.hasFocus) {\n          this.hasFocus = false;\n\n          this.blur.emit(this.instance);\n\n          if (this.autoToolbar && this.showToolbar) {\n            this.showToolbar = false;\n          }\n        } else if (range && !this.hasFocus) {\n          this.hasFocus = true;\n\n          this.focus.emit(this.instance);\n\n          // Check if reset is needed to update toolbar\n\n          if (this.autoToolbar && !this.showToolbar) {\n            resetToolbar = true;\n\n            this.showToolbar = true;\n          }\n        } else {\n          this.zone.runOutsideAngular(() => {\n            if (this.instance && this.selectionChange.observers.length) {\n              this.selectionChange.emit({\n                editor: this.instance,\n                range: range,\n                oldRange: oldRange,\n                source: source\n              });\n            }\n          });\n        }\n\n        if (resetToolbar) {\n          setTimeout(() => {\n            this.ngOnDestroy();\n\n            this.ngOnInit();\n          }, 0);\n        }\n      });\n    }\n\n    if (!this.configDiff) {\n      this.configDiff = this.differs.find(this.config || {}).create();\n\n      this.configDiff.diff(this.config || {});\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.instance) {\n      const toolbar = this.instance.getModule('toolbar');\n\n      this.selection = this.instance.getSelection();\n\n      if (typeof HTMLElement !== 'undefined' &&\n          toolbar && toolbar.options && toolbar.container &&\n        !(toolbar.options.container instanceof HTMLElement))\n      {\n        toolbar.container.remove();\n      }\n\n      if (this.elementRef && this.elementRef.nativeElement) {\n        const preview = this.elementRef.nativeElement.querySelector('.ql-preview');\n\n        if (preview) {\n          preview.innerHTML = '';\n        }\n      }\n\n      delete this.instance;\n\n      this.instance = null;\n    }\n  }\n\n  ngDoCheck(): void {\n    if (this.configDiff) {\n      const changes = this.configDiff.diff(this.config || {});\n\n      if (changes) {\n        this.ngOnDestroy();\n\n        this.ngOnInit();\n      }\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.instance && changes['disabled']) {\n      if (changes['disabled'].currentValue !== changes['disabled'].previousValue) {\n        this.zone.runOutsideAngular(() => {\n          this.ngOnDestroy();\n\n          this.ngOnInit();\n        });\n      }\n    }\n  }\n\n  public quill(): QuillInstance | null {\n    return this.instance;\n  }\n\n  public clear(source?: QuillSources): void {\n    if (this.instance) {\n      this.instance.deleteText(0, this.instance.getLength(), source);\n    }\n  }\n\n  public getValue(): string | undefined {\n    if (this.instance) {\n      return this.instance.getText();\n    }\n  }\n\n  public setValue(value: string, source?: QuillSources): void {\n    if (this.instance) {\n      this.clear(source);\n\n      this.instance.clipboard.dangerouslyPasteHTML(value, source);\n\n      this.instance.setSelection(this.instance.getLength(), 1);\n    }\n  }\n}\n","import { Component,\n  AfterViewInit, Input, Output, EventEmitter,\n  ViewChild, HostBinding, ViewEncapsulation } from '@angular/core';\n\nimport { QuillDirective } from './quill.directive';\n\nimport { QuillConfigInterface, QuillModulesInterface } from './quill.interfaces';\n\n@Component({\n  selector: 'quill',\n  exportAs: 'ngxQuill',\n  templateUrl: '../../dist/lib/quill.component.html',\n  styleUrls: [ '../../dist/lib/quill.component.css' ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class QuillComponent implements AfterViewInit {\n  private content: string | null = null;\n\n  @Input()\n  set value(value: string) {\n    this.setContent(value);\n  }\n\n  @Input() disabled: boolean = false;\n\n  @Input() autoToolbar: boolean = false;\n  @Input() realToolbar: boolean = false;\n\n  @Input() config?: QuillConfigInterface;\n\n  @Input() modules?: QuillModulesInterface;\n\n  @HostBinding('class.quill')\n  @Input() useQuillClass: boolean = true;\n\n  @Output() blur = new EventEmitter<any>();\n  @Output() focus = new EventEmitter<any>();\n\n  @Output() valueChange = new EventEmitter<string>();\n\n  @Output() editorCreate = new EventEmitter<any>();\n  @Output() contentChange = new EventEmitter<any>();\n  @Output() selectionChange = new EventEmitter<any>();\n\n  @ViewChild(QuillDirective) directiveRef?: QuillDirective;\n\n  constructor() {}\n\n  ngAfterViewInit(): void {\n    if (this.content != null) {\n      this.setContent(this.content, true);\n    }\n  }\n\n  private setContent(value: string, force?: boolean): void {\n    if (force || value !== this.content) {\n      if (this.directiveRef) {\n        this.directiveRef.setValue(value, 'silent');\n      }\n\n      this.content = value;\n    }\n  }\n\n  public onContentChange(event: any): void {\n    this.content = event.html;\n\n    this.contentChange.emit(event);\n\n    this.valueChange.emit(event.html);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { QuillService } from './quill.service';\nimport { QuillComponent } from './quill.component';\nimport { QuillDirective } from './quill.directive';\n\n@NgModule({\n  declarations: [ QuillComponent, QuillDirective ],\n  imports: [ CommonModule ],\n  exports: [ CommonModule, QuillComponent, QuillDirective ],\n  providers: [ QuillService ]\n})\nexport class QuillModule {\n}\n"],"names":["Injectable","InjectionToken","EventEmitter","Directive","NgZone","ElementRef","KeyValueDiffers","Optional","Inject","Input","Output","Component","ViewEncapsulation","HostBinding","ViewChild","NgModule","CommonModule"],"mappings":"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"}